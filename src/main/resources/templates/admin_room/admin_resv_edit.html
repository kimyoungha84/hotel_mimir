<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>객실 예약 수정</title>

  <!-- ✅ flatpickr 스타일 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <!-- ✅ flatpickr 한국어 로케일 -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

  <style>
    body {
      font-family: "Pretendard", sans-serif;
      margin: 40px;
      background-color: #fdfdfd;
    }

    h2 {
      font-size: 30px;
      border-bottom: 3px solid #333;
      padding-bottom: 20px;
      margin-bottom: 20px;
    }

    .form-box {
      border: 1px solid #ccc;
      border-radius: 10px;
      overflow: hidden;
    }

    .form-table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }

    .form-table td {
      padding: 10px 14px;
      font-size: 14px;
      border-bottom: 1px solid #eee;
      vertical-align: middle;
    }

    .form-table tr:last-child td {
      border-bottom: none;
    }

    .form-table td:first-child {
      width: 160px;
      font-weight: bold;
      background-color: #F3ECE7;
      border-right: 1px solid #eee;
      text-align: center;
    }

    input[type="text"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 6px 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }

    input[readonly] {
      background-color: #f5f5f5;
      border: 1px solid #ddd;
      color: #555;
    }

    textarea {
      resize: vertical;
      height: 80px;
    }

    .form-actions {
      text-align: center;
      padding: 20px 0;
      background-color: #f9f9f9;
      border-top: 1px solid #ddd;
    }

    .form-actions button {
      font-size: 14px;
      padding: 8px 16px;
      margin: 0 6px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
    }

    .btn-save {
      background-color: #2e7d32;
      color: white;
    }

    .btn-cancel {
      background-color: #c62828;
      color: white;
    }
  </style>
</head>
<body>

  <h2>객실 예약 수정</h2>

  <form th:action="@{/reservation/update}" method="post">
    <div class="form-box">
      <table class="form-table">
        <tr>
          <td>예약번호</td>
          <td><input type="text" name="reserveNo" th:value="${reservation.reserveNo}" readonly /></td>
        </tr>
        <tr>
          <td>고객명</td>
          <td><input type="text" name="customerName" th:value="${reservation.customerName}" readonly /></td>
        </tr>
        <tr>
          <td>연락처</td>
          <td><input type="text" name="contact" th:value="${reservation.contact}" readonly/></td>
        </tr>
        <tr>
          <td>룸 종류(호실)</td>
          <td>
            <select name="roomInfo">
              <option value="스탠다드룸(601)" th:selected="${reservation.roomInfo == '스탠다드룸(601)'}">스탠다드룸(601)</option>
              <option value="스탠다드룸(603)" th:selected="${reservation.roomInfo == '스탠다드룸(603)'}">스탠다드룸(603)</option>
              <option value="프리미어룸(708)" th:selected="${reservation.roomInfo == '프리미어룸(708)'}">프리미어룸(708)</option>
              <option value="스위트룸(801)" th:selected="${reservation.roomInfo == '스위트룸(801)'}">스위트룸(801)</option>
              <option value="프레지덴셜 스위트 룸(904)" th:selected="${reservation.roomInfo == '프레지덴셜 스위트 룸(904)'}">프레지덴셜 스위트 룸(904)</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>체크인</td>
          <td><input type="text" id="checkIn" name="checkIn" th:value="${reservation.checkIn}" placeholder="날짜 선택" /></td>
        </tr>
        <tr>
          <td>체크아웃</td>
          <td><input type="text" id="checkOut" name="checkOut" th:value="${reservation.checkOut}" placeholder="날짜 선택" /></td>
        </tr>
        <tr>
          <td>인원 수</td>
          <td>
            <select name="peopleCount">
              <option value="1명" th:selected="${reservation.peopleCount == '1명'}">1명</option>
              <option value="2명" th:selected="${reservation.peopleCount == '2명'}">2명</option>
              <option value="3명" th:selected="${reservation.peopleCount == '3명'}">3명</option>
              <option value="4명" th:selected="${reservation.peopleCount == '4명'}">4명</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>예약상태</td>
          <td>
            <select name="status">
              <option value="예약대기" th:selected="${reservation.status == '예약대기'}">예약대기</option>
              <option value="예약완료" th:selected="${reservation.status == '예약완료'}">예약완료</option>
              <option value="예약취소" th:selected="${reservation.status == '예약취소'}">예약취소</option>
              <option value="체크인 완료" th:selected="${reservation.status == '체크인 완료'}">체크인 완료</option>
              <option value="체크아웃 완료" th:selected="${reservation.status == '체크아웃 완료'}">체크아웃 완료</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>회원/비회원</td>
          <td><input type="text" name="memberType" th:value="${reservation.memberType}" readonly /></td>
        </tr>
        <tr>
          <td>요청사항</td>
          <td><textarea name="memo" th:text="${reservation.memo}">없음</textarea></td>
        </tr>
      </table>

      <div class="form-actions">
        <button type="submit" class="btn-save">수정</button>
        <button type="button" class="btn-cancel" onclick="history.back()">취소</button>
      </div>
    </div>
  </form>

  <script>
    flatpickr("#checkIn", {
      dateFormat: "Y-m-d",
      locale: "ko"
    });

    flatpickr("#checkOut", {
      dateFormat: "Y-m-d",
      locale: "ko"
    });
  </script>

</body>
</html>
