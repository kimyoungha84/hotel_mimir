<!DOCTYPE html>
<html xmlns="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8">
<title>다이닝 정보 추가</title>
<link rel="stylesheet" href="/admin_common_assets/css/common.css">

<!-- jQuery 추가 -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

<!-- CSS 파일 포함 -->
<link rel="stylesheet" th:href="@{/dining/css/admin_dining_add.css}">
</head>
<body>
<th:block th:replace="~{administrator/fragments/admin_header :: admin_header}"></th:block>
<th:block th:replace="~{administrator/fragments/admin_sidebar :: admin_sidebar}"></th:block>
<div class="body-pd">
  <main class="main-content">
    <section class="dining-section">
      <h1>다이닝 정보 추가</h1>
      <form id="diningDataForm" th:action="@{/admin/dining/add}" method="post">
        <div class="form-data-section">
          <div class="form-data-title">기본 정보</div>
          <div class="edit-form-section">
            <label class="edit-form-label">이름</label>
            <input class="edit-form-input" type="text" name="dining_name" required placeholder="예) 스테이, 모던 레스토랑" />
            <div class="error-message" id="dining_name_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">타입</label>
            <select class="edit-form-select" name="type" required>
              <option value="한식">한식</option>
              <option value="프렌치">프렌치</option>
              <option value="회원제 레스토랑">회원제 레스토랑</option>
              <option value="레스토랑 & 바">레스토랑 & 바</option>
              <option value="스카이 바">스카이 바</option>
              <option value="프리미엄 베이커리 & 카페">프리미엄 베이커리 & 카페</option>
              <option value="인룸 다이닝">인룸 다이닝</option>
            </select>
            <div class="error-message" id="type_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">위치</label>
            <input class="edit-form-input" type="text" name="location" required placeholder="예) 81층" />
            <div class="error-message" id="location_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">문의번호</label>
            <input class="edit-form-input" type="text" name="phone_number" required placeholder="예) 02-1234-5678" />
            <div class="error-message" id="phone_number_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">담당자</label>
            <input class="edit-form-input" type="text" name="manager_name" required placeholder="예) 홍길동" />
            <div class="error-message" id="manager_name_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">예약 가능 여부</label>
            <select class="edit-form-select" name="dining_resv_availability">
              <option value="Y">가능</option>
              <option value="N">불가능</option>
            </select>
            <div class="error-message" id="dining_resv_availability_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">분류</label>
            <select class="edit-form-select" name="dining_classification" required>
              <option value="레스토랑">레스토랑</option>
              <option value="라운지 &amp; 바">라운지 & 바</option>
              <option value="베이커리 &amp; 카페">베이커리 & 카페</option>
              <option value="룸서비스">룸서비스</option>
            </select>
            <div class="error-message" id="dining_classification_error"></div>
          </div>
        </div>
        
        <div class="form-data-section">
          <div class="form-data-title">상세 정보</div>
          <div class="edit-form-section">
            <label class="edit-form-label">소개</label>
            <textarea class="edit-form-textarea" name="dining_introduction" rows="3" placeholder="간단한 소개를 입력하세요. 예) 미쉐린 3스타 셰프가 선보이는 프렌치 레스토랑"></textarea>
            <div class="error-message" id="dining_introduction_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">상세정보</label>
            <textarea class="edit-form-textarea" name="dining_detailinfo" rows="5" placeholder="상세정보를 입력하세요. 예) 드레스코드, 좌석수, 특이사항 등"></textarea>
            <div class="error-message" id="dining_detailinfo_error"></div>
          </div>
          <div class="edit-form-section">
            <label class="edit-form-label">영업시간</label>
            <textarea class="edit-form-textarea" name="dining_operation_hours" rows="3" placeholder="예) 11:30~22:00 (Break Time 15:00~17:30)"></textarea>
            <div class="error-message" id="dining_operation_hours_error"></div>
          </div>
        </div>
      </form>

      <!-- 파일 업로드 폼 -->
      <form id="diningFileForm" th:action="@{/admin/dining/editFiles}" method="post" enctype="multipart/form-data">
        <input type="hidden" name="dining_id" />

        <div class="file-upload-section">
          <div class="file-upload-title">메인 이미지</div>
          <div class="file-input-wrapper">
            <input type="file" name="main_image_file" accept="image/*" />
          </div>
          <input type="hidden" name="main_image_url" />
          <img class="edit-form-img-preview" id="main-image-preview" style="display: none;" />
        </div>
        
        <div class="file-upload-section">
          <div class="file-upload-title">로고 이미지</div>
          <div class="file-input-wrapper">
            <input type="file" name="logo_image_file" accept="image/*" />
          </div>
          <input type="hidden" name="logo_image_url" />
          <img class="edit-form-img-preview" id="logo-image-preview" style="display: none;" />
        </div>
        
        <div class="file-upload-section">
          <div class="file-upload-title">케러셀 이미지 (여러 장 가능)</div>
          <button type="button" id="add-carousel-btn" class="action-btn replace-btn" style="margin-bottom:12px;">케러셀 이미지 추가</button>
          <input type="file" id="add-carousel-images" accept="image/*" multiple style="display:none;" />
          <div class="edit-form-img-list" id="carousel-img-list" style="display:flex; flex-direction:column; gap:0;"></div>
        </div>

        <div class="edit-form-btn-area" style="margin-bottom: 100px;">
          <button type="button" class="list-btn modern-btn" id="submit-btn">추가</button>
          <button type="button" class="list-btn modern-btn" onclick="window.history.back()">취소</button>
        </div>
      </form>
    </section>
  </main>
</div>
<!-- JavaScript 파일 포함 -->
<script th:src="@{/dining/js/admin_dining_add.js}"></script>
</body>
</html> 