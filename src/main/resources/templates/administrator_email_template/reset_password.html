<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>MIMIR - 비밀번호 재설정</title>
<!-- favicon 설정-->
<link rel="shortcut icon" href="http://192.168.10.71/images/favicon.ico"/>

<!-- 부트스트랩  CDN -->    
<link rel="stylesheet" type="text/css"
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"/>


<!-- jquery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

<!-- Vue CDN -->
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<!-- axios CDN -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


<style type="text/css">
body {
    background-color: #f9f9f9;
    font-family: 'Pretendard', sans-serif;
    text-align: center; /* 입력창, 제목 전체 가운데 정렬 */
    align-items: center;
    justify-content: center;

    min-height: 100vh;
    margin: 0;
}

.compnay {
    margin-top: 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: #999;
}

.title_pass {
    font-size: 1.8rem;
    font-weight: 600;
    margin-top: 10px;
    margin-bottom: 30px;
}

.small_title {
    margin: 10px auto 5px;
    font-weight: 600;
    font-size: 0.95rem;
    color: #333;
    text-align: left;
    width: 300px; /* 입력창과 폭 맞추기 */
}

input[type="password"] {
    width: 300px;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    display: block;
    margin: 0 auto 15px;
}

input[type="text"]{
    width: 300px;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    display: block;
    margin: 0 auto 15px;
}

.btn-reset {
    display: block;
    width: 150px;
    margin: 25px auto 0 auto;
    background-color: #BD7E7E;
    color: #333;
    border: none;
    padding: 12px 0;
    font-size: 1rem;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.btn-reset:hover {
    background-color: #C89FA3;
}
</style>



<script type="text/javascript">
$(function(){

});//ready

</script>
</head>

<body>
<div class="compnay">MIMIR</div>
<div class="title_pass">비밀번호 재설정</div>
<div>
    할당받은 아이디를 입력해주세요.<br/>
    아이디가 없을 경우, 인사팀 관리자에게 문의해주세요.
</div>
<br><br>

<div id="form">
<div class="small_title">아이디</div>
<div><input type="text" v-model="resetObj.id"/></div>

<div class="small_title">새비밀번호</div>
<div><input type="password" v-model="newPass"/></div>

<div class="small_title">새비밀번호 확인</div>
<div><input type="password" v-model="resetObj.pass" @input="confirmPasswordMatch"/><span :style="passwordMatchStyle">{{resultPassStr}}</span></div>

<div><input type="button" class="btn-reset" value="변경하기" @click="changePassword"/></div>
</div>
<script>
Vue.createApp({
    data(){
        return{
            newPass:"",
            resetObj : {
                id : "", pass:""
            },
            resultPassStr:""
        }
    },
    methods:{
        confirmPasswordMatch(){
            console.log("newPass----"+this.newPass);
            console.log("resetPass----"+this.resetObj.pass);

            console.log(this.newPass === this.resetObj.pass);
            //console.log("newPass------"+this.newPass);
            if(this.newPass === this.resetObj.pass){
                
                //비밀번호, 비밀번호 확인 값이 같을 떄
                this.resultPassStr="비밀번호가 일치합니다.";
                this.passwordMatchStyle={color:"green"};
                //일치합니다
            }else{
                //그렇지 않으면 일치하지 않습니다. span에 출력되도록 설정
                this.resultPassStr="비밀번호가 일치하지 않습니다.";
                this.passwordMatchStyle={color:"red"};
            }//end if~else
        },
        changePassword(){

            axios.post("/admin/initialPassword")
            .then(res=>{
                
            })
            .catch(err=>{

            });
        }
    }
    
}).mount("#form");
</script>



</body>
</html>